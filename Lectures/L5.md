30 (목)
오전, 오후 : 플랫폼게임제작
세부사항 : 메뉴 만들기, 동전 / 점수시스템, 가상조이스틱 만들기

# UI / 메뉴 만들기

텍스트 생성  
![image](https://user-images.githubusercontent.com/48755297/87541647-84b85880-c6dc-11ea-8e14-52d0066f996b.png)  

UI -> 이미지도 생성  ->  COIN SPRITE 적용 후 왼쪽 상단에 배치  
![image](https://user-images.githubusercontent.com/48755297/87541872-fa242900-c6dc-11ea-8e4d-14a6b075c4b1.png)  



CoinManager 스크립트 생성 후, 다음 코드 작성

```c#
using System.Collections;
using System.Collections.Generic;
using UnityEngine;
using UnityEngine.UI;

public class CoinManager : MonoBehaviour
{
    public Text Coin_text;

    public int coin = 0;

    private void Update()
    {
        Coin_text.text = "Coin : " + coin;
    }
}


```
스크립트를 EvenetManager에 넣고, text를 넣어준다.

 -> "coin : 0" 이표시되는 것을 확인

CoinManager.cpp에 추가

``` c#
    public void Add_coin()
    {
        coin++;
    }

```

PlayerMoveController.cpp 에 추가

``` c#
    public float moveSpeed = 5.0f; //플레이어 이동 속도
    public float jumpPower = 8.0f; //플레이어 점프 힘
    

    public Animator animator; //애니메이션 변수
    public Rigidbody2D rigid;
    public SpriteRenderer spriteRenderer;
    public Sprite jump_sprite;
    public CoinManager eventSystem;

    float horizontal; //왼쪽, 오른쪽 방향값을 받는 변수

    bool isjumping;

    private void Start()
    {
        animator = GetComponent<Animator>(); //animator 초기화
        rigid = GetComponent<Rigidbody2D>();
        spriteRenderer = GetComponent<SpriteRenderer>();
        eventSystem = GameObject.Find("EvenetSystem").GetComponent<CoinManager>();

    }

    private void FixedUpdate()
    {
        Move(); //플레이어 이동
        Jump(); //점프

        if(this.transform.position.y < -10)
        {
            SceneManager.LoadScene("Game");
        }

    }

      private void OnTriggerEnter2D(Collider2D collision)
  {
      if (collision.gameObject.CompareTag("coin"))
      {
          eventSystem.Add_coin();
      }
  }

```
코인 오브젝트 만들기   
![image](https://user-images.githubusercontent.com/48755297/87556271-6a3caa00-c6f1-11ea-9d5a-60035ff7a8b3.png)


코인과 플레이어가 부딪히면 코인을 파괴시키는 스크립트 작성

``` c#


using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class CoinController : MonoBehaviour
{
    private void OnTriggerEnter2D(Collider2D collision)
    {
        if (collision.gameObject.CompareTag("Player"))
        {
            GameObject.Destroy(this.gameObject);
        }
    }
}


```


먹으면 사라지는걸 확인할 수 있다.

![image](https://user-images.githubusercontent.com/48755297/87556721-f2bb4a80-c6f1-11ea-9c3b-ea66f88b8e9a.png)
